#
# Copyright 2020 Realm Inc.
#  
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#  
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
# or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

org.gradle.jvmargs=-Xms512m -Xmx2048m
kotlin.mpp.stability.nowarn=true

kotlin.code.style=official
android.useAndroidX=true


org.gradle.parallel=false

# Realm Kotlin build options
# See https://kotlinlang.org/docs/multiplatform-publish-lib.html
# The main host is responsible for publishing the KMP metadata needed to lookup platform specific
# artifacts. During a publishing process, one host is _required_ to be the main host.
# If this property is commented out, the build will publish all publications regardless of what
# `realm.kotlin.targets` is.
realm.kotlin.mainHost=true

# Which publications to publish
# Allowed values: iosArm64,iosSimulatorArm64,iosX64,jvm,macos,macosArm64,androidDebug,androidRelease
# If not set, all publications will be published
# TODO JVM target assumes macOS as default. Linux/Windows variants are assumed to have been built elsewhere.
# Allowed values: iosArm64,iosSimulatorArm64,iosX64,jvm,macos,macosArm64,androidDebug,androidRelease
# android,iosArm64,iosX64,jvm,macosX64,macosArm64,metadata
#realm.kotlin.targets=android

# If building for the JVM, which platforms should be built.
realm.kotlin.targets.jvm.linux=true
realm.kotlin.targets.jvm.macos=true
realm.kotlin.targets.jvm.windows=true

# We cannot enable hierarchical setup as common symbols are currently not visible in Android source
# sets in consuming modules (https://youtrack.jetbrains.com/issue/KT-48153)
#kotlin.mpp.enableGranularSourceSetsMetadata=true
#kotlin.mpp.enableCompatibilityMetadataVariant=true
#kotlin.native.enableDependencyPropagation=false

# See https://kotlinlang.org/docs/mpp-publish-lib.html#publish-an-android-library
# Allow the default dependency name to match the client debug build type. Otherwise the client project has to
# explicitly specify the debug variant (ex: implementation("io.realm.kotlin:library-base-debug:0.8.0"))
kotlin.android.buildTypeAttribute.keep=false
